FROM node

WORKDIR /app

COPY package.json .

RUN npm install

COPY . .

ARG DEFAULT_APP_MONGODB_CONTAINER_NAME=mongodb-con
ARG DEFAULT_APP_PORT=80
ARG DEFAULT_APP_NAME="Goals App"

ARG APP_MONGODB_CONTAINER_NAME $APP_MONGODB_CONTAINER_NAME
ARG APP_PORT $DEFAULT_APP_PORT
ARG APP_NAME $DEFAULT_APP_NAME

EXPOSE $APP_PORT

CMD ["npm", "start"]
